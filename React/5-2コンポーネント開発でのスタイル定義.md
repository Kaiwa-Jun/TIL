- className属性によるスタイルはJSコードから切り離せるが、グローバル。コンポーネントXで定義したスタイルがコンポーネントYに影響した入りする
- コンポーネントで閉じた（ローカルな）スタイルを定義したい
↓
| しくみ | 概要 |
|:---|:---|
|Styled JSX |JSX式に<style>要素を埋め込む方式 |
|Styled Components |タグを拡張してスタイルを適用する方式 |
|Styled Components |Styled JSX／Styled Components双方の気泡の対応したしくみ |

## JSX式にスタイルシートを埋め込む-syled JSX
Styled JSX:
- コンポーネントファイルでロジック／スタイルをまとめて管理できる
- .vueファイルとも良く似たしくみ

### Styled JSXの基本

```
// StyledBasic.js
export default function StyledBasic() {
    return (
      <>
        <style jsx>{`
        .panel {
          width: 300px;
          padding: 10px;
          border: 1px solid #000;
          border-radius: 5px;
          background-color: royalblue;
          color: white;
        }
        `}</style>
        <div className="panel"><b>Styled JSX</b>は、JSX式にスタイル定義を埋め込む形式のライブラリです。
        </div>
      </>
    );
  }

```
① スタイルの定義
- <style jsx>というタグ内でCSSのスタイルを定義
- .panelというクラスに対するスタイルが設定される
```
width: 300px
padding: 10px
border: 1px solid 黒
border-radius: 5px
background-color: royalblue（青色）
color: white（文字色は白）
```

② JSXの構造
- `<div className="panel">`という形で、上で定義した.panelクラスをこのdivに適用
  
③ コンテンツ
- <b>Styled JSX</b>でStyled JSXというテキストを太字にしている
- その後に「は、JSX式にスタイル定義を埋め込む形式のライブラリです。」という説明文が続く

### Styled JSXの様々な記法
#### (1)グローバルスタイル
```
export default function StyledBasic() {
    return (
      <>
        <style jsx global>{`
        h3 {
          background-color: Yellow;
        }
        `}</style>
        <style jsx>{`
        .panel {
          width: 300px;
          padding: 10px;
          border: 1px solid #000;
          border-radius: 5px;
          background-color: royalblue;
          color: white;
        }
        `}</style>
        <div className="panel"><b>Styled JSX</b>は、JSX式にスタイル定義を埋め込む形式のライブラリです。
        </div>
      </>
    );
  }
```

#### (2)スタイル定義の外部化
```
// StyeldCss.css.js
import css from 'styled-jsx/css';

export default css`
.panel {
  width: 300px;
  padding: 10px;
  border: 1px solid #000;
  border-radius: 5px;
  background-color: royalblue;
  color: white;
}`;

```

```
// StyledCss.js
import css, { globalCss, resolveCss } from './StyledCss.css';

export default function StyledCss() {
  return (
    <>
      <style jsx>{css}</style>
      {resolveCss.styles}
        <div className="panel"><b>Styled JSX</b>は、JSX式にスタイル定義を埋め込む形式のライブラリです。
      </div>
    </>
  );
}
```
① スタイル定義（StyeldCss.css.js）
- import css from 'styled-jsx/css';: styled-jsx/cssからcssをインポートしています。
- .panelというクラスに対するCSSスタイルを定義しています。そのスタイルはexport default cssでエクスポートされています。
  
② コンポーネント（StyledCss.js）
- import css, { globalCss, resolveCss } from './StyledCss.css';: スタイル定義をインポートしています。
- <style jsx>{css}</style>: JSX内で、インポートしたcssを使ってスタイルを適用しています。
- <div className="panel">: .panelというクラス名を持つdiv要素を作成しています。

### 標準タグを拡張してスタイル付きタグを定義する-Styled Components
#### Styled Componentsの基本
```
import styled from 'styled-components';

const MyPanel = styled.div`
  width: 300px;
  padding: 10px;
  border: 1px solid #000;
  border-radius: 5px;
  background-color: royalblue;
  color: white;
`;

export default function StyledComp() {
  return (
    <MyPanel><b>Styled JSX</b>は、JSX式にスタイル定義を埋め込む形式のライブラリです。</MyPanel>
  );
}
```
① styled-componentsのインポート
- import styled from 'styled-components';: styled-componentsライブラリからstyledオブジェクトをインポートしています。
  
② コンポーネントのスタイリング
- const MyPanel = styled.div...: この行では、MyPanelという名前の新しいスタイル付きのdivコンポーネントを作成しています。
- その後、テンプレートリテラル内でスタイリングを定義しています。
  
③ コンポーネントの使用
- <MyPanel>...</MyPanel>: ReactのJSXで、作成したMyPanelコンポーネントを使用しています。
- このコンポーネントは既にスタイルが適用されているため、そのまま使用できます。
